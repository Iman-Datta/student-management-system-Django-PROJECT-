<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>View Result</title>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css"
      rel="stylesheet" />
  </head>
  <body>
    <div class="container mt-5">
      <h2 class="text-center mb-4">Marksheet Details</h2>

      {% if messages %} {% for message in messages %}
      <div
        class="alert alert-{{ message.tags }} alert-dismissible fade show"
        role="alert">
        {{ message }}
        <button
          type="button"
          class="btn-close"
          data-bs-dismiss="alert"
          aria-label="Close"></button>
      </div>
      {% endfor %} {% endif %} {% if marksheet %}
      <table class="table table-bordered table-striped">
        <thead class="table-dark">
          <tr>
            <th>Student Name</th>
            <th>Subject</th>
            <th>Marks</th>
            <th>Total Marks</th>
            <th>Percentage</th>
            <th>Exam Date</th>
          </tr>
        </thead>
        <tbody>
          {% for record in marksheet %}
          <tr>
            <td>
              {{ record.student.user.first_name }}
              {{record.student.user.last_name }}
            </td>
            <td>{{ record.subject }}</td>
            <td>{{ record.marks }}</td>
            <td>{{ record.total_marks }}</td>
            <td>{{ record.percentage|floatformat:2 }}%</td>
            <td>{{ record.exam_date }}</td>
          </tr>
          {% endfor %}
        </tbody>
      </table>
      {% else %}
      <p class="text-center text-muted">No result data available.</p>
      {% endif %}
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
  </body>
</html>
